<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <meta name="apple-mobile-web-app-capable" content="yes" />
        <title>Kurt Cobain - Something In The Way</title>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js" type="text/javascript"></script>
        <link rel="stylesheet" type="text/css" media="all" href="css/styles.css" />
        <link rel="stylesheet" type="text/css" media="screen" href="css/last_tour.css" />
        <link rel="stylesheet" type="text/css" href="mapa-exemplo-isolado/css/cssmap-europe.css" media="screen" />
        <meta name="viewport" content="width=device-width,initial-scale=1">
        <script type="text/javascript" src="https://cssmapsplugin.com/5/jquery.cssmap.min.js"></script>
        <!-- <script type="text/javascript" src="mapa-exemplo-isolado/js/script-map.js"></script> -->
        <script src="js/last_tour.js"></script>
        <script src="js/script.js"></script>
    </head>
    <body>
        <div class="header">
            <header>
                <img src="img/cobain-header.jpg" alt="Kurt Cobain Header" id="img_header">

                <div class="header_text">
                    <p>Kurt Cobain</p>
                    <p>Something In The Way</p>
                </div>
            </header>
        </div>

        <div class="breadcrumb">
			<svg style="width:24px;height:24px" alt="Go Back" class="back_button" viewBox="0 0 24 24"><path fill="currentColor" d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z" /></svg>
			<svg style="width:24px;height:24px" alt="Home Page" class="home_button" viewBox="0 0 24 24"><path fill="currentColor" d="M10,20V14H14V20H19V12H22L12,3L2,12H5V20H10Z" /></svg>
            <a id="last_tour">/ Last Tour</a>
        </div>

        <div class="main_heading">
            <section>
                <h1>Last Tour</h1>
            </section>
        </div>

        <section class="two-iframes">
            <!-- <iframe id="player" src="https://www.youtube.com/embed/JkbTI-UPdZs?autoplay=1&start=0&mute=1" frameborder="0" scrolling="no" width="100%" height="500" align="left"> </iframe> -->
            <!-- 1. The <iframe> (and video player) will replace this <div> tag. --> 
            <div id="player"></div>

            <script>
                // 2. This code loads the IFrame Player API code asynchronously.
                var tag = document.createElement('script');

                tag.src = "https://www.youtube.com/iframe_api";
                var firstScriptTag = document.getElementsByTagName('script')[0];
                firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

                // 3. This function creates an <iframe> (and YouTube player)
                //    after the API code downloads.
                player;
                var elem;
                function onYouTubeIframeAPIReady() {
                    player = new YT.Player('player', {
                    height: '500',
                    width: '100%',
                    videoId: 'JkbTI-UPdZs',
                    events: {
                        'onReady': onPlayerReady,
                        'onStateChange': onPlayerStateChange
                    }
                    });
                }

                // 4. The API will call this function when the video player is ready.
                function onPlayerReady(event) {
                    event.target.playVideo();
                }

                // 5. The API calls this function when the player's state changes.
                //    The function indicates that when playing a video (state=1),
                //    the player should play for six seconds and then stop.
                
                function onPlayerStateChange(event) {
                    if (event.data == YT.PlayerState.PLAYING) {
                        startInterval();
                    }
                }

                function startInterval() {
                    //checks every 1000ms to see if the video has reached 6s
                    setInterval(function() {
                        if (player.getCurrentTime() > 0 && player.getCurrentTime() < 77) {
                            elem = document.getElementById("0");
                            if (!elem.classList.contains("active-region")) {
                                elem.className += " active-region";
                            }
                        } else {
                            document.getElementById("0").classList.remove("active-region");
                        }

                        if (player.getCurrentTime() > 77 && player.getCurrentTime() < 125) {
                            elem = document.getElementById("77");
                            if (!(elem.classList.contains("active-region"))) {
                               elem.className += " active-region";
                            }
                        } else {
                            document.getElementById("77").classList.remove("active-region");
                        }

                        if (player.getCurrentTime() > 125 && player.getCurrentTime() < 193) {
                            elem = document.getElementById("125");
                            if (!elem.classList.contains("active-region")) {
                               elem.className += " active-region";
                            }
                        } else {
                            document.getElementById("125").classList.remove("active-region");
                        }

                        if (player.getCurrentTime() > 193 && player.getCurrentTime() < 251) {
                            elem = document.getElementById("193");
                            if (!elem.classList.contains("active-region")) {
                               elem.className += " active-region";
                            }
                        } else {
                            document.getElementById("193").classList.remove("active-region");
                        }

                        if (player.getCurrentTime() > 251 && player.getCurrentTime() < 307) {
                            elem = document.getElementById("251");
                            if (!elem.classList.contains("active-region")) {
                               elem.className += " active-region";
                            }
                        } else {
                            document.getElementById("251").classList.remove("active-region");
                        }

                        if (player.getCurrentTime() > 307) {
                            elem = document.getElementById("307");
                            if (!elem.classList.contains("active-region")) {
                               elem.className += " active-region";
                            }
                        } else {
                            document.getElementById("307").classList.remove("active-region");
                        };
                    }, 1000)
                }
            </script>
              
              <div id="box2" class="box">
                <!-- <div id="invisible_layer">
                </div> -->

                <!-- <iframe id="map-iframe" src="mapa-exemplo-isolado/index.html" frameborder="0" scrolling="no" width="100%" height="540" align="right"></iframe> -->

                <div id="map-europe">
                    <ul class="europe">
                     <li id="125" class="eu13"><a href="#france">France</a></li>
                     <li id="307" class="eu16"><a href="#germany">Germany</a></li>
                     <li id="193" class="eu22"><a href="#italy">Italy</a></li>
                     <li id="0" class="eu36"><a href="#portugal">Portugal</a></li>
                     <li id="251" class="eu41"><a href="#slovenia">Slovenia</a></li>
                     <li id="77" class="eu42"><a href="#spain">Spain</a></li>
                    </ul>
                </div>
              </div>
        </section>

        
        <div class="timeline_container">
            <ol>
                <li id="first_period"><span>1967 - 1986</span></li>
                <li id="second_period"><span>1987 - 1990</span></li>
                <li id="third_period"><span>1991 - 1992</span></li>
                <li id="fourth_period"><span>1993 - 1994</span></li>
                <li class="active" id="last_tour"><span>Last Tour</span></li>
              </ol>
        </div>
        
    </body>
</html>